var comicsList = {
  "comicsData": [
    {
      "comicName": "Midnight Furies",
      "authorNames": "Jess Herron",
      "comicDescription": "Zoe is an ex-basketball-ace desperate for any way to play the game who was forced by the death of her parents to drop out of school and support her brothers. Luckily, her mysterious friend Chase can get her into the most off-the-wall tournament no one's ever heard of- one where you play for time added onto your life! But Zoe's gotta be careful. Chase is playing her own game... and it might cost them more than just points. ~~~~~ DRAMA/ACTION/SLOWBURN ROMANCE F|M F|F, 14+, updates 3x a month",
      "comicTags": [
        "Action",
        "Drama",
        "LGBTQ+"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://tapas.io/series/MidnightFuries",
        "comicServer":"tapas"
      },
      {
        "badgeLink": "https://www.webtoons.com/en/challenge/midnight-furies/list?title_no=148753",
        "comicServer": "webtoon"
      },
      {
        "badgeLink": "https://www.patreon.com/jpherron",
        "comicServer": "patreon"
      },
      {
        "badgeLink": "https://midnightfuriescomic.tumblr.com/",
        "comicServer": "tumblr"
      }]
    },
    {
      "comicName": "Long Exposure",
      "authorNames": "Mars Heyward",
      "comicDescription": "Long Exposure is an ongoing webcomic about a nerd and a bully who are forced to work on a class project together. The story revolves around them developing super powers after an incident at a strange research center, and finding themselves followed by a mysterious car, overcoming personal challenges, and (most importantly) discovering how gay they are for each other.",
      "comicTags": [
        "Superheroes",
        "Drama",
        "LGBTQ+"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://tapas.io/series/Long-Exposure",
        "comicServer": "tapas"
      },
      {
        "badgeLink": "https://www.patreon.com/marsoid",
        "comicServer": "patreon"
      },
      {
        "badgeLink": "https://longexposurecomic.com/",
        "comicServer": "indy"
      }]
    },{
      "comicName": "Meow Man",
      "authorNames": "What Who's This",
      "comicDescription": "What if your dream date turns out to be... a cat? Such is the dilemma for Bonnie, a young woman who wanted love and ended up with Claude, a highly needy half-man-half-cat instead. Will they be able to make it work? Is sharing the litterbox going to be a huge problem? And what ARE her friends going to think? Read Meow Man to see how this big ball of yarn unfurls.",
      "comicTags": [
        "Comedy",
        "Drama",
        "Romance"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://www.webtoons.com/en/comedy/meow-man/list?title_no=1677",
        "comicServer": "webtoon"
      },
      {
        "badgeLink": "https://www.patreon.com/jpherron",
        "comicServer": "patreon"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      }]
    },{
      "comicName": "TEST 4 SUPER LONG NAME SUPER SUPER SUPER WOWZERS",
      "authorNames": "Naomi Watson",
      "comicDescription": "After making a grisly discovery in the countryside, a small town book editor’s life gets entangled with a young Mafia lord and his intimidating bodyguard...even as every step she takes draws her deeper into the dangerous underworld of the city.",
      "comicTags": [
        "Drama",
        "Romance"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://tapas.io/series/ringmybell",
        "comicServer": "tapas"
      },
      {
        "badgeLink": "https://www.webtoons.com/en/romance/midnight-poppy-land/list?title_no=1798",
        "comicServer": "webtoon"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      }]
    },{
      "comicName": "Boo",
      "authorNames": "Sherlock Buttface",
      "comicDescription": "After binge-watching beauty videos online, a shy, comic book fan masters the art of make-up, then sees her social standing skyrocket as she becomes her school’s prettiest pretty girl literally overnight. But will her elite status be short lived? How long can she keep her “real self” a secret? And what about that cute boy she likes? Could you imagine if he found out the truth?",
      "comicTags": [
        "Romance",
        "Drama"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://www.webtoons.com/en/super-hero/lavender-jack/list?title_no=1410",
        "comicServer": "webtoon"
      },
      {
        "badgeLink": "https://www.patreon.com/danschkade",
        "comicServer": "patreon"
      },
      {
        "badgeLink": "https://longexposurecomic.com/",
        "comicServer": "indy"
      }]
    },{
      "comicName": "Lavender Jack",
      "authorNames": "Dan Who",
      "comicDescription": "After the departure of Detective Theresa Ferrier and the defeat of Lord and Lady Hawthorne, the City of Gallery is left in the clawed hands of its vigilante hero, Lavender Jack. But as the City prepares for a divisive mayoral election, a new menace emerges from the shadows -- The Black Note, a masked phantom sowing disharmony and destruction among Gallery and its citizens. Will Lavender Jack be able end this symphony of terror? Or will this be his final curtain call...?",
      "comicTags": [
        "Action",
        "Mystery"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://www.webtoons.com/en/super-hero/lavender-jack/list?title_no=1410",
        "comicServer": "webtoon"
      },
      {
        "badgeLink": "https://www.patreon.com/danschkade",
        "comicServer": "patreon"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      }]
    },{
      "comicName": "Make it Stop",
      "authorNames": "Mcmaster Mclongname Whoevenisthis Gilleazeu",
      "comicDescription": "“Mom, I’m sorry. Please don’t die.” When Henry realizes death is at his mother’s doorstep, he strikes a deal with a lifespan dealer to give years of his own life to his ailing mother. Now, his mother is a 20-year-old college student with a full life ahead of her, and Henry devotes his remaining days to helping her live life to the fullest. But things turn complicated when his friend falls in love with her! **What the everliving fuck*",
      "comicTags": [
        "Romance",
        "Horror",
        "LGBTQ+"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://www.webtoons.com/en/super-hero/lavender-jack/list?title_no=1410",
        "comicServer": "tapas"
      },
      {
        "badgeLink": "https://www.webtoons.com/en/drama/mom-im-sorry/list?title_no=2049",
        "comicServer": "webtoon"
      },
      {
        "badgeLink": "https://www.patreon.com/danschkade",
        "comicServer": "patreon"
      }]
    },
    {
      "comicName": "Yumi's Cells",
      "authorNames": "Boo boo",
      "comicDescription": "A story of Yumi and her brain cells.",
      "comicTags": [
        "Horror",
        "Mystery",
        "LGBTQ+"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://www.webtoons.com/en/slice-of-life/yumi-cell/list?title_no=478",
        "comicServer": "tapas"
      },
      {
        "badgeLink": "https://www.hiveworkscomics.com/",
        "comicServer": "Hiveworks"
      },
      {
        "badgeLink": "https://giphy.com/gifs/wheres-lsU7mOh76j4QM",
        "comicServer": "indy"
      }]
    },
    {
      "comicName": "Suihira: The City of Water",
      "authorNames": "Your Mom",
      "comicDescription": "Her whole life, Princess Wahida has prayed for passage to “Suihira,” the holy City of Water, lost to time & myth. When the goddess Akia appears before her & declares Wahida to be worthy of her city, the zealous princess doesn’t think twice before venturing into the wilderness. However, Wahida finds she needs more than faith to brave the journey. •Updates every 4 weeks on Wed 12AM PT •Rated 12+ for mild swearing, partial nudity, some violence &intense situations •Social Media:@Suihira/@ArtByRiana",
      "comicTags": [
        "Fantasy",
        "Drama",
        "Mystery"
        ],
      "comicCarouselImage": "",
      "comicGridImage": "",
      "comicBadges": [{
        "badgeLink": "https://www.webtoons.com/en/challenge/suihira-the-city-of-water/list?title_no=39385",
        "comicServer": "webtoon"
      }]
    }
  ]
};


// Doc Ready
function ready(callbackFunc) {
  if (document.readyState !== 'loading') {
    // Document is already ready, call the callback directly
    callbackFunc();
  } else if (document.addEventListener) {
    // All modern browsers to register DOMContentLoaded
    document.addEventListener('DOMContentLoaded', callbackFunc);
  } else {
    // Old IE browsers
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState === 'complete') {
        callbackFunc();
      }
    });
  }
}

ready(function(){
    // Build Dom Content
    if (typeof comicsGridLoopCounter === 'undefined') {
        // variable_name has been set, so run this code
        var comicsGridLoopCounter = 1;
        var row=1;
    };
    comicsList.comicsData.forEach(function(el, index, array){
    //console.log(el);
    //console.log(index);

    //Build Slides
    //console.log(document.getElementsByClassName('glide__slides'));
    var slideNode = document.createElement('li');
    slideNode.classList.add('glide__slide');


    var slideNodeTop = document.createElement('div');
    slideNodeTop.classList.add('glide-slide-top');
    //slideNodeTop.classList.add('u-max-full-width');
    slideNodeTop.innerHTML='<img src="comic_images/' + index +'/slide.jpg">'  //height="100%" width="240"
    slideNode.appendChild(slideNodeTop);
    var slideNodeTopTitle = document.createElement('div');
    slideNodeTopTitle.classList.add('glide-slide-top-title');
    slideNodeTopTitle.innerHTML = comicsList.comicsData[index].comicName  //height="100%" width="240"
    slideNode.appendChild(slideNodeTopTitle);

    var slideNodeBottom = document.createElement('div');
    slideNodeBottom.classList.add('glide-slide-bottom');

        var slideNodeBottomIcons = document.createElement('div');
        slideNodeBottomIcons.classList.add('glide-slide-bottom-icons');
        comicsList.comicsData[index].comicBadges.forEach(function(el, index, array){
            //var badgeString = document.createTextNode('<img src="images/logo_square.png">');
            var slideNodeBottomIcon = document.createElement('img');
            slideNodeBottomIcon.setAttribute('src', 'images/brand_icons/icon_'+el.comicServer+'.png');
            slideNodeBottomIcon.classList.add('glide-slide-bottom-icon');
            slideNodeBottomIcons.appendChild(slideNodeBottomIcon);
        });
        slideNodeBottom.appendChild(slideNodeBottomIcons);

        var slideNodeBottomDescription = document.createElement('div');
        slideNodeBottomDescription.classList.add('glide-slide-bottom-description');
        slideNodeBottomDescription.classList.add('slide-line-clamp');
        var slideNodeBottomDescriptionText = document.createTextNode(comicsList.comicsData[index].comicDescription);
        slideNodeBottomDescription.appendChild(slideNodeBottomDescriptionText);
        slideNodeBottom.appendChild(slideNodeBottomDescription);

        var slideNodeBottomTags = document.createElement('div');
        slideNodeBottomTags.classList.add('glide-slide-bottom-tags');
        comicsList.comicsData[index].comicTags.forEach(function(el, index, array){
            //var badgeString = document.createTextNode('<img src="images/logo_square.png">');
            var slideNodeBottomTag = document.createTextNode(el);
            slideNodeBottomTags.appendChild(slideNodeBottomTag);
            if (index+1 < array.length){
                var slideNodeBottomTagComma = document.createTextNode(', ');
                slideNodeBottomTags.appendChild(slideNodeBottomTagComma);
            }
        });
        slideNodeBottom.appendChild(slideNodeBottomTags);

    slideNode.appendChild(slideNodeBottom);


    //var textnode = document.createTextNode("Water");
    //node.appendChild(textnode);
    document.getElementById('glide_hero_cells').appendChild(slideNode);

      // document.getElementsByClassName('glide__slides').innerHTML(`
      //   <li class="glide__slide">
      //       <div class="glide-slide-top">
      //           <img src="images/logo_full.png" height="100%" width="240">
      //       </div>
      //       <div class="glide-slide-bottom">
      //           <div class="glide-slide-bottom-icon-pack">
      //               <img src="images/logo_square.png"> <img src="images/logo_square.png"> <img src="images/logo_square.png">
      //           </div>
      //           <div class="glide-slide-bottom-description">
      //               Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exerci tation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate…
      //           </div>
      //           <div class="glide-slide-bottom-tags">
      //               Drama, LGBT+, Fantasy, Funny, Mystery
      //           </div>
      //       </div>
      //   </li>
      // `);


    // Build Grid DOM
    console.log('index' + index);
    switch (comicsGridLoopCounter) {
        case 1:
            var gridRow = document.createElement('div');
            gridRow.classList.add('row');
            gridRow.setAttribute('id', 'comic-grid-row-'+row);
            document.getElementById('comics-grid-container').appendChild(gridRow);

            var gridRowLeftColumn = document.createElement('div');
            gridRowLeftColumn.classList.add('one-half');
            gridRowLeftColumn.classList.add('column');
            gridRow.appendChild(gridRowLeftColumn);

            var gridRowLeftColumnPull = document.createElement('div');
            gridRowLeftColumnPull.classList.add('comics-grid-left');
            gridRowLeftColumnPull.setAttribute('id', 'comic-grid-left-'+row);
            gridRowLeftColumn.appendChild(gridRowLeftColumnPull);

            var gridRowLeftColumnPullLeftElm = document.createElement('div');
            gridRowLeftColumnPullLeftElm.classList.add('comics-grid-element-left');
            gridRowLeftColumnPull.appendChild(gridRowLeftColumnPullLeftElm);
            gridRowLeftColumnPullLeftElm.innerHTML='<img src="comic_images/' + index +'/grid.jpg" class="u-max-full-width"><br />' + comicsList.comicsData[index].comicName  //height="100%" width="240"

            var gridIcons = document.createElement('div');
            gridIcons.classList.add('comics-grid-icons');
            gridRowLeftColumnPullLeftElm.appendChild(gridIcons);
            comicsList.comicsData[index].comicBadges.forEach(function(el, index, array){
                //var badgeString = document.createTextNode('<img src="images/logo_square.png">');
                var gridIcon = document.createElement('img');
                gridIcon.setAttribute('src', 'images/brand_icons/icon_'+el.comicServer+'.png');
                gridIcon.classList.add('comics-grid-icon');
                gridIcons.appendChild(gridIcon);
            });
            comicsGridLoopCounter++;
            break;
        case 2:
            var gridRowLeftColumnPullRightElm = document.createElement('div');
            gridRowLeftColumnPullRightElm.classList.add('comics-grid-element-right');
            // gridRowLeftColumnPull.appendChild(gridRowLeftColumnPullRightElm);
            document.getElementById('comic-grid-left-'+row).appendChild(gridRowLeftColumnPullRightElm);
            gridRowLeftColumnPullRightElm.innerHTML='<img src="comic_images/' + index +'/grid.jpg" class="u-max-full-width"><br />' + comicsList.comicsData[index].comicName  //height="100%" width="240"

            var gridIcons = document.createElement('div');
            gridIcons.classList.add('comics-grid-icons');
            gridRowLeftColumnPullRightElm.appendChild(gridIcons);
            comicsList.comicsData[index].comicBadges.forEach(function(el, index, array){
                //var badgeString = document.createTextNode('<img src="images/logo_square.png">');
                var gridIcon = document.createElement('img');
                gridIcon.setAttribute('src', 'images/brand_icons/icon_'+el.comicServer+'.png');
                gridIcon.classList.add('comics-grid-icon');
                gridIcons.appendChild(gridIcon);
            });
            comicsGridLoopCounter++;
            break;
        case 3:
            var gridRowRightColumn = document.createElement('div');
            gridRowRightColumn.classList.add('one-half');
            gridRowRightColumn.classList.add('column');
            document.getElementById('comic-grid-row-'+row).appendChild(gridRowRightColumn);

            var gridRowRightColumnPull = document.createElement('div');
            gridRowRightColumnPull.classList.add('comics-grid-right');
            gridRowRightColumnPull.setAttribute('id', 'comic-grid-right-'+row);
            gridRowRightColumn.appendChild(gridRowRightColumnPull);

            var gridRowRightColumnPullLeftElm = document.createElement('div');
            gridRowRightColumnPullLeftElm.classList.add('comics-grid-element-left');
            gridRowRightColumnPull.appendChild(gridRowRightColumnPullLeftElm);
            gridRowRightColumnPullLeftElm.innerHTML='<img src="comic_images/' + index +'/grid.jpg" class="u-max-full-width"><br />' + comicsList.comicsData[index].comicName  //height="100%" width="240"

            var gridIcons = document.createElement('div');
            gridIcons.classList.add('comics-grid-icons');
            gridRowRightColumnPullLeftElm.appendChild(gridIcons);
            comicsList.comicsData[index].comicBadges.forEach(function(el, index, array){
                //var badgeString = document.createTextNode('<img src="images/logo_square.png">');
                var gridIcon = document.createElement('img');
                gridIcon.setAttribute('src', 'images/brand_icons/icon_'+el.comicServer+'.png');
                gridIcon.classList.add('comics-grid-icon');
                gridIcons.appendChild(gridIcon);
            });
            comicsGridLoopCounter++;
            break;
        case 4:
            var gridRowRightColumnPullRightElm = document.createElement('div');
            gridRowRightColumnPullRightElm.classList.add('comics-grid-element-right');
            document.getElementById('comic-grid-right-'+row).appendChild(gridRowRightColumnPullRightElm);
            gridRowRightColumnPullRightElm.innerHTML='<img src="comic_images/' + index +'/grid.jpg" class="u-max-full-width"><br />' + comicsList.comicsData[index].comicName  //height="100%" width="240"

            var gridIcons = document.createElement('div');
            gridIcons.classList.add('comics-grid-icons');
            gridRowRightColumnPullRightElm.appendChild(gridIcons);
            comicsList.comicsData[index].comicBadges.forEach(function(el, index, array){
                //var badgeString = document.createTextNode('<img src="images/logo_square.png">');
                var gridIcon = document.createElement('img');
                gridIcon.setAttribute('src', 'images/brand_icons/icon_'+el.comicServer+'.png');
                gridIcon.classList.add('comics-grid-icon');
                gridIcons.appendChild(gridIcon);
            });
            comicsGridLoopCounter = 1;
            row++

    }


    // <div class="row">
    //     <div class="one-half column">
    //         <div class="comics-grid-left">
    //             <div class="comics-grid-element-left">
    //                 <img src="comic_images/0/grid.jpg"  class="u-max-full-width"><br />
    //                 Title of series
    //                 <div class="comics-grid-icons">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                 </div>
    //             </div>
    //             <div class="comics-grid-element-right">
    //                 <img src="comic_images/1/grid.jpg" class="u-max-full-width"><br />
    //                 Title of series
    //                 <div class="comics-grid-icons">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon ">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                 </div>
    //             </div>
    //         </div>
    //     </div>
    //     <div class="one-half column">
    //         <div class="comics-grid-right">
    //             <div class="comics-grid-element-left">
    //                 <img src="comic_images/2/grid.jpg"  class="u-max-full-width"><br />
    //                 Title of series
    //                 <div class="comics-grid-icons">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                 </div>
    //             </div>
    //             <div class="comics-grid-element-right">
    //                 <img src="comic_images/3/grid.jpg" class="u-max-full-width"><br />
    //                 Title of series
    //                 <div class="comics-grid-icons">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon ">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                     <img src="images/brand_icons/icon_patreon.png" class="comics-grid-icon">
    //                 </div>
    //             </div>
    //         </div>
    //     </div>
    // </div>

    });
});


ready(function() {
  // your code here
  new Glide('.glide', {
    type: 'carousel',
    autoplay: 0,
    animationDuration: 600,
    animationTimingFunc: 'linear',
    perView: 6,
    gap:0,
    focusAt: 0,
    breakpoints: {
        1200: {
            perView: 4
        },
        800: {
            perView: 3
        },
        600: {
            perView: 2,
            peek: {
                before: 0,
                after: 80
            }
        },
        450: {
            perView: 1,
            peek: {
                before: 0,
                after: 80
            }
        }
    }
  }).mount();
});
